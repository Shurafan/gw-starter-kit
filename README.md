
![template engine - twig](https://img.shields.io/static/v1?label=template&message=twig&color=%2300A95C&style=for-the-badge)
![node.js](https://img.shields.io/static/v1?label=&message=node&color=%23339933&style=for-the-badge&logo=node.js&logoColor=%23333)
![webpack](https://img.shields.io/static/v1?label=&message=webpack&color=%238DD6F9&style=for-the-badge&logo=webpack&logoColor=%23333)
![gulp](https://img.shields.io/static/v1?label=&message=gulp&color=%23CF4647&style=for-the-badge&logo=gulp&logoColor=%23333)
![babel](https://img.shields.io/static/v1?label=&message=babel&color=%23F9DC3E&style=for-the-badge&logo=babel&logoColor=%23333)
![bootstrap](https://img.shields.io/static/v1?label=&message=bootstrap&color=%237952B3&style=for-the-badge&logo=bootstrap&logoColor=%23333)
![sass](https://img.shields.io/static/v1?label=&message=sass&color=%23CC6699&style=for-the-badge&logo=sass&logoColor=%23333)
![javascript](https://img.shields.io/static/v1?label=&message=js&color=%23F7DF1E&style=for-the-badge&logo=javascript&logoColor=%23333)

# PEPELAC - frontend boilerplate

Современный инструментарий для веб-разработки с использованием Gulp Task Runner и Webpack bundler.

<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 3806 1024">
    <path fill="#87A330" d="M3457.18 702.846q47.17 26.66 113.23 26.66 34.13 0 67.39-9.229 33.4-9.375 57.42-26.806 13.77-10.108 16.11-23.291 2.49-13.33-3.81-24.317-6.3-11.133-18.89-14.648-12.6-3.662-28.86 6.445-19.78 12.012-42.04 17.725-22.12 5.713-44.97 5.713-64.16 0-97.85-38.965-33.55-38.965-33.55-110.449 0-71.338 33.55-110.01 33.69-38.819 97.85-38.819 22.26 0 43.8 5.42 21.68 5.42 40.28 17.432 16.11 10.84 29.3 6.885 13.33-3.955 19.92-15.528 6.59-11.718 3.51-25.781-2.93-14.209-18.6-24.316-24.02-15.674-55.81-24.024-31.79-8.496-64.75-8.496-66.06 0-113.23 26.807-47.02 26.66-72.22 75.293-25.19 48.486-25.19 115.137 0 66.65 25.19 115.576 25.2 48.779 72.22 75.586Zm-525.79 25.488q-20.95 0-30.03-14.355-8.94-14.502.58-34.864l158.5-350.976q7.76-17.432 18.9-24.903 11.13-7.47 25.49-7.47 13.76 0 24.9 7.47 11.13 7.471 18.89 24.903l158.94 350.976q9.67 20.947 1.17 35.156-8.35 14.063-28.71 14.063-16.85 0-26.22-8.057-9.23-8.203-16.41-25.048l-30.03-69.581h-206.39l-29.45 69.581q-7.76 17.431-16.11 25.341-8.35 7.764-24.02 7.764Zm-341.45-44.385q0 39.551 39.11 39.551h211.82q33.54 0 33.54-32.959 0-32.373-33.54-32.373h-174.03V337.66q0-38.965-38.37-38.965-38.53 0-38.53 38.965v346.289Zm-1460.272 44.385q-38.525 0-38.525-39.697V339.564q0-39.111 39.11-39.111h144.581q69.58 0 107.373 34.863Q1420 370.033 1420 432.436q0 62.402-37.793 97.558-37.793 35.156-107.373 35.156h-106.787v123.487q0 39.697-38.379 39.697Zm393.543-4.834q-40.869 0-40.869-40.869V341.322q0-40.869 40.869-40.869h214.16q31.201 0 31.201 30.029 0 31.202-31.201 31.202H1556.17v116.455h168.018q31.201 0 31.201 30.615t-31.201 30.615H1556.17V662.27h181.201q31.201 0 31.201 30.615t-31.201 30.615h-214.16Zm317.33-34.863q0 39.697 38.526 39.697 38.379 0 38.379-39.697V565.15h106.787q69.577 0 107.377-35.156 37.79-35.156 37.79-97.558 0-62.403-37.79-97.12-37.8-34.863-107.377-34.863h-144.58q-39.112 0-39.112 39.111v349.073ZM2272.61 723.5q-40.87 0-40.87-40.869V341.322q0-40.869 40.87-40.869h214.16q31.2 0 31.2 30.029 0 31.202-31.2 31.202h-181.2v116.455h168.02q31.2 0 31.2 30.615t-31.2 30.615h-168.02V662.27h181.2q31.2 0 31.2 30.615t-31.2 30.615h-214.16ZM1168.047 504.506h94.775q82.764 0 82.764-72.07 0-71.338-82.764-71.338h-94.775v143.408Zm844.174 0h-94.775V361.098h94.775q82.759 0 82.759 71.338 0 72.07-82.759 72.07ZM3103.65 383.949l-76.32 180.615H3181l-76.17-180.615h-1.18Z"/>
    <path fill="#87A330" fill-rule="evenodd" d="M753.535 517.319c13.858 0 23.638-13.507 19.337-26.695-5.224-16.056-15.195-38.451-34.182-64.574-23.191-31.888-52.913-47.752-69.224-54.57-7.295-3.058-12.105-10.162-12.392-18.062-1.306-36.062-7.964-135.804-41.923-209.743-26.154-56.896-67.026-102.005-88.529-123.38-7.901-7.9-20.707-7.9-28.639 0-21.472 21.375-62.344 66.484-88.498 123.38-33.959 73.939-40.648 173.681-41.955 209.743-.287 7.9-5.065 15.004-12.36 18.062-16.311 6.818-46.032 22.682-69.224 54.57-18.986 26.123-28.958 48.518-34.182 64.574-4.301 13.188 5.479 26.695 19.337 26.695h123.667c11.245 0 20.356 9.111 20.356 20.357 0 11.213 9.111 20.324 20.357 20.324h153.675c11.246 0 20.357-9.111 20.357-20.324 0-11.246 9.111-20.357 20.356-20.357h123.667"/>
    <path fill="#CAD593" fill-rule="evenodd" d="m891.161 192.722-152.722-88.17c11.666 30.531 21.746 64.617 29.41 102.589l86.241 49.786c23.9 13.799 45.669 51.504 45.669 79.105v341.715c0 27.599-21.769 65.303-45.669 79.102l-30.781 17.776c-114.498 66.103-231.119-84.03-248.714-197.227a302.762 302.762 0 0 0-61.931-6.4 302.574 302.574 0 0 0-62.272 6.469c-17.636 113.185-134.227 263.247-248.703 197.158l-30.783-17.776c-23.906-13.799-45.67-51.503-45.67-79.102V336.032c0-27.601 21.764-65.306 45.67-79.105l86.633-50.03c7.684-37.986 17.776-72.075 29.459-102.609l-153.161 88.434C87.44 219.509 51.1 282.458 51.1 336.032v341.715c0 53.571 36.34 116.523 82.737 143.304l295.918 170.857c23.197 13.392 52.968 20.092 82.74 20.092 29.769 0 59.543-6.7 82.737-20.092l295.929-170.857c46.392-26.786 82.737-89.733 82.737-143.304V336.032c0-53.574-36.345-116.52-82.737-143.31Z"/>
</svg>

## Требования к окружению

- node.js
- git

## Установка

### 1. Клонирование и инициализация

Скачайте файлы с github или клонируйте его c помощью команды:

```bash
git clone https://github.com/alexsoin/gw-starter-kit.git
```

Инициализация проекта(Работает только в UNIX системах)

```bash
./init
```

### 2. Установки зависимостей проекта

Для установки зависимостей проекта необходимо в командной строке ввести команды:

```bash
npm install
```

Если требуются дополнительные пакеты, то для их установки нужно выполнить команду:

- Установка пакета, при этом информация о нём, автоматически прописывается в секцию "devDependencies" файла "package.json" _(такие пакеты как gulp-autoprefixer)_

```bash
npm install --save-dev название_пакета
```

- Установка пакета, при этом информация о нём, автоматически прописывается в секцию "dependencies" файла "package.json" _(такие пакеты как bootstrap)_

```bash
npm install --save-prod название_пакета
```

### 3. Правка информации о новом проекте

1. Переходим в клонированную директорию
2. Удаляем папку `.git`
3. Редактируем файл `package.json`, меняем в нем параметры `name`, `description`, `author` и `repository.url` на свои значения.

## Как использовать окружение

### Режим живого сервера

- `npm run watch` - сборка и запуск live-server в режиме developer
- `npm run prodwatch` - сборка и запуск live-server в режиме production

### Режим сборки

- `npm run build` - сборка проекта в режиме production
- `npm run devbuild` - сборка проекта в режиме developer

### Список gulp задач:

- `gulp clean` - Очистка папки dist
- `gulp templates` - Создание html страниц
- `gulp styles` - Сборка файлов стилей css
- `gulp scripts` - Сборка javascript файлов
- `gulp fonts` - Перемещение шрифтов
- `gulp images` - Обработка картинок
- `gulp moveStatic` - Перемещение статических файлов
- `gulp createDeploy` - Создание файла **deploy.json** для настройки деплоя

### Деплой собранных файлов на сервер

- `npm run deploy` - Деплой собранных файлов на сервер, указанный как **default** в файле deploy.json
- `npm run deploy:dev` - Деплой собранных файлов на сервер, указанный как **dev** в файле deploy.json
- `npm run deploy:prod` - Деплой собранных файлов на сервер, указанный как **prod** в файле deploy.json

## Список инструментов

Окружение, предназначенное для разработки фронтенд проекта, построено на базе следующих инструментов:

- **node.js** (среды, в которой будет выполняться окружение);
- **npm** (пакетного менеджера, входящего в Node.js; будет использоваться для загрузки Gulp, плагинов и фронтенд пакетов);
- **popover, bootstrap** (пакеты, которые будут использоваться для сборки css и js частей сайта);
- **gulp и его плагины** (будут использоваться для сборки проекта и выполнения других веб задач).
- **webpack и его плагины** (будут использоваться для сборки js скриптов).

## Файловая структура Gulp проекта

### Корневая директория

В корне проекта расположены папки:

```bash
├── deploy.json                 # Конфигурация деплоя проекта
├── gulpfile.js                 # Конфигурация и задачи Gulpfile
├── init                        # Инициализатор проекта
├── dist/                       # Папка выгрузки проекта
├── src/                        # Исходники
│   ├── assets/                 # Хранятся стили, скрипты и тд
│   │   ├── fonts/              # Шрифтов
│   │   ├── img/                # Изображения
│   │   ├── js/                 # js-файлов
│   │   │   └── index.js        # Точка входа js файлов
│   │   └── scss/               # scss стили
│   │       ├── base.scss       # Пользовательские стили
│   │       ├── bootstrap.scss # Подключение bootstrap стилей
│   │       ├── fonts.scss      # Подключение шрифтов
│   │       ├── index.scss      # Точка входа scss файлов
│   │       └── variables.scss  # Переменные стилей
│   ├── configs                 # Файлы конфигураций
│   │   ├── deploy.config.js    # Настройка деплоя
│   │   ├── paths.config.js     # Настройки путей проекта
│   │   ├── tasks.config.js     # Задачи gulp
│   │   ├── version.config.js   # Настройки для плагина gulp-version-number
│   │   └── webpack.config.js   # Настройки webpack
│   ├── data/                   # json файлы для вывода данных при разработке
│   │   ├── dev.json            # Вывод данных при develop разработке
│   │   ├── prod.json           # Вывод данных при production разработке
│   │   └── site.json           # Общий файл для вывода данных
│   └── views/                  # Для фрагментов twig файлов
│       ├── index.twig          # index.twig будет преобразован в index.html страницу
│       ├── layout/             # Шаблоны страницы
│       │   └── base.twig       # Базовый шаблон
│       └── partials/           # Части часто используемого кода на страницах
│           └── header.twig     # header
└── static/                     # Статичные файлы, которые будут просто перенесены в dist
```

### Директория src/js/

В папке `js` находится файл `index.js`, который является входной точкой для js файлов.

При сборке проекта, все импорты внешних зависимостей(таких как boostrap) будут собираться в файл `vendor.min.js`, а пользовательские скрипты будут собираться в файл `main.min.js`. Эти файлы после успешной сборки будут находиться в директории `dist/assets/js/`.

### Директория src/scss/

Папка `scss` отведена под стили. В данной директории находятся следующие файлы:

- `index.scss` - импорты файлов, содержимое которых необходимо включить в итоговый файл стилей
- `base.scss` - используется для написания своих стилей
- `variables.scss` - содержит SCSS переменные, с помощью которых будем изменять стили bootstrap, а также использовать его для создания своих переменных
- `fonts.scss` - подключаются шрифты, используемые на сайте
- `_bootstrap.scss` - подключаются boostrap зависимости

### Директория src/views/

В данной сборке используется шаблонизатор twig.

Файл `index.twig` - это главная страница создаваемого проекта. Кроме `index.twig` в данную директорию можно поместить и другие twig файлы из которых будут созданы html страницы.

В папке `layout` находятся шаблоны страниц.

В папке `partials` находятся фрагменты страниц. Это позволит более просто создавать и редактировать html страницы, т.к. отдельные части страниц уже будут находиться в специальных файлах.

Чтобы при показе результата сборки не приходилось сбрасывать кеш браузера изза устаревших стилей в данной сборке присутствует версионирование. При запуске команды `build` в html файлах у подключаемых js и css добавляется их версия.
